!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}({7:function(e,t){var n=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n=!0),ymaps.ready(function(){var e=[{name:"Коломна",mapCenter:[55.091289443603706,38.917269584802675]},{name:"Пущино",mapCenter:[54.78929269708931,37.64268598670033]},{name:"Ватулино",mapCenter:[55.663193308717396,36.14121807608322]}],t=new ymaps.Map("map",{center:e[0].mapCenter,zoom:16},{suppressMapOpenBlock:!0});ymaps.modules.require(["Arrow","Wind","Chute","Flight"]).spread(function(a,o,r,l){t.setType("yandex#satellite"),t.cursors.push("arrow"),t.controls.remove("trafficControl"),t.controls.remove("zoomControl");var i=new ymaps.control.ZoomControl({options:{position:{right:10,top:105},size:"small"}});t.controls.add(i);var s=t.controls.get("searchControl");function c(e=""){var t=new ymaps.control.Button({data:{content:e},options:{layout:ymaps.templateLayoutFactory.createClass("<div class='outputControlElement'>{{data.content}}</div>"),maxWidth:300}});return t}s.options.set("size","small"),s.options.set("noPlacemark",!0),s.options.set("noSelect",!0),s.events.add("resultshow",function(n){void 0!==h&&h.clear(),t.setZoom(16),void 0!==v&&v.geometry.setCoordinates(t.getCenter());var a=n.get("index"),o=s.getResultsArray(),r=o[a].properties.get("name"),l={name:r,mapCenter:t.getCenter()};e.push(l),$("#dz").append("<option>"+l.name+"</option>"),$("#dz").children()[e.length-1].selected=!0}),t.controls.remove("geolocationControl"),t.controls.remove("fullscreenControl");var u=c();u.print=function(e){e.getFlightIsPossible?u.data.set("content","Высота: "+Math.floor(e.finalHeight)+" м"):u.data.set("content","Невозможно!")},t.controls.add(u,{float:"left"});var d=c();function p(e,t){d.print(e),t.setWind(e),u.print(t)}d.print=function(e){this.data.set("content","Ветер: "+e.value+" м/с, "+e.getDirection())},t.controls.add(d,{float:"left"});var v=new a(t.getCenter(),n);t.geoObjects.add(v),t.events.add("boundschange",function(e){var t=e.get("newZoom"),n=e.get("oldZoom");t!=n&&v.changeSize(t)});var g=new o(5,0);d.print(g);var f=new r(10,5),m=300,h=new l(t,g,f,m,n);function w(e="",t="",n="inputControlElement"){var a=new ymaps.control.Button({data:{title:e,image:t,cssclass:n},options:{layout:ymaps.templateLayoutFactory.createClass("<div title='{{data.title}}' class='{{data.cssclass}}'><img class='iconimage' src='{{data.image}}'></div>"),maxWidth:300}});return a}u.print(h),t.events.add("click",function(e){var t=e.get("coords");h.addVertex(t),u.print(h)});var y=null;function b(e,n){e.windowIsOn=!1,e.windowjQuerySelector=n,e.events.add("click",function(){e.windowIsOn=!e.windowIsOn,e.windowIsOn?($(n).show(),v.geometry.setCoordinates(t.getCenter()),e.data.set("cssclass","pressedInputControlElement"),null!=y&&y!=e&&C(y),y=e):(C(e),y=null)}),$(n+"Rectangle").click(function(){C(e),y=null})}function C(e){$(e.windowjQuerySelector).hide(),e.windowIsOn=!1,e.data.set("cssclass","inputControlElement")}var I=w("Очистить","images/icon_eraser.svg");I.events.add("click",function(){h.clear(),u.print(h)});var k=w("Настройки","images/icon_settings.svg");b(k,"#dzHeightMenu");for(var O=0;O<e.length;O++)$("#dz").append("<option>"+e[O].name+"</option>");$("#dz").on("change",function(){var n=e[this.selectedIndex].mapCenter;t.setCenter(n,16),v.geometry.setCoordinates(n),h.clear(),u.print(h)}),$("#startHeight").val(m),$("#startHeight").on("change",function(){var e=$("#startHeight").val(),t=Number.parseFloat(e);t>=4&&t<=4e3&&(m=t),$("#startHeight").val(m),h.setStartHeight(m),u.print(h)});var S=w("Настройки парашюта","images/icon_chute.svg");b(S,"#chuteMenu"),$("#chutehorvel").val(f.horizontalVel),$("#chutevervel").val(f.verticalVel),$("#chutehorvel, #chutevervel").on("change",function(){var e=Number.parseFloat($("#chutehorvel").val());e>=0&&e<=25&&(f.horizontalVel=e),$("chutehorvel").val(f.horizontalVel);var t=Number.parseFloat($("#chutevervel").val());t>=0&&t<=50&&(f.verticalVel=t),$("#chutevervel").val(f.verticalVel),h.setChute(f),u.print(h)});var x=w("Справка","images/icon_help.svg");b(x,"#helpMenu");var z=w("Настройка ветра","images/icon_arrow.svg");b(z,"#windMenu"),function(){for(var e=0;e<21;e++){var t="";switch(e){case 0:t="В";break;case 5:t="С";break;case 10:t="З";break;case 15:t="Ю";break;case 20:t="В";break;default:t="&nbsp"}$("#windDirectionInputScale").append("<div class='directionPlate'>"+t+"</div>")}$(".directionPlate").css({width:100/21+"%",float:"left","text-align":"center"});for(var e=0;e<11;e++)$("#windValueInputScale").append("<div class='valueScale' id='v"+e+"'>"+e+"</div>");$(".valueScale").css({width:100/10.38+"%",float:"left","text-align":"left"}),$("#v9").css({width:"5%"}),$("#v10").css({width:"8%",float:"left","text-align":"right"})}(),$("#windDirectionInput").val(g.angle),$("#windValueInput").val(g.value),$("#windDirectionInput").on("input change",function(){var e=$("#windDirectionInput").val(),t=Number.parseInt(e);v.rotate(t),g.angle=t,p(g,h)}),$("#windValueInput").on("input change",function(){var e=$("#windValueInput").val(),t=Number.parseInt(e);g.value=t,p(g,h)}),$("input").keypress(function(e){13===e.keyCode&&$("input").blur()}),$("html").keydown(function(e){var t=e.which;switch(t){case 39:g.angle+=5,g.angle>180&&(g.angle=g.angle-180-180),v.rotate(g.angle),$("#windDirectionInput").val(g.angle),p(g,h);break;case 37:g.angle-=5,g.angle<-180&&(g.angle=180-(-180-g.angle)),v.rotate(g.angle),$("#windDirectionInput").val(g.angle),p(g,h);break;case 38:g.value++,g.value>10&&(g.value=10),$("#windValueInput").val(g.value),p(g,h);break;case 40:g.value--,g.value<0&&(g.value=0),$("#windValueInput").val(g.value),p(g,h)}}),t.controls.add(k,{position:{top:45,left:10}}),t.controls.add(S,{position:{top:75,left:10}}),t.controls.add(z,{position:{top:105,left:10}}),t.controls.add(x,{position:{top:135,left:10}}),t.controls.add(I,{position:{top:165,left:10}})})})}});